!function(w){"use strict";var n={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,i){},onAfterSlide:function(e,i){},onBeforeNextSlide:function(e,i){},onBeforePrevSlide:function(e,i){}};w.fn.lightSlider=function(e){if(0===this.length)return this;if(1<this.length)return this.each(function(){w(this).lightSlider(e)}),this;var t={},d=w.extend(!0,{},n,e),l={},c=this;t.$el=this,"fade"===d.mode&&(d.vertical=!1);var a,u=c.children(),o=(w(window).width(),null),s=0,h=0,i=!1,f=0,g="",v=0,p=!0===d.vertical?"height":"width",m=!0===d.vertical?"margin-bottom":"margin-right",S=0,b=0,C=0,M=0,r=null,T="ontouchstart"in document.documentElement,x={chbreakpoint:function(){if(a=w(window).width(),d.responsive.length){var e;if(!1===d.autoWidth&&(e=d.item),a<d.responsive[0].breakpoint)for(var i=0;i<d.responsive.length;i++)a<d.responsive[i].breakpoint&&(d.responsive[i].breakpoint,o=d.responsive[i]);if(null!=o)for(var t in o.settings)o.settings.hasOwnProperty(t)&&(void 0!==l[t]&&null!==l[t]||(l[t]=d[t]),d[t]=o.settings[t]);if(!w.isEmptyObject(l)&&a>d.responsive[0].breakpoint)for(var n in l)l.hasOwnProperty(n)&&(d[n]=l[n]);!1===d.autoWidth&&0<S&&0<C&&e!==d.item&&(v=Math.round(S/((C+d.slideMargin)*d.slideMove)))}},calSW:function(){!1===d.autoWidth&&(C=(f-(d.item*d.slideMargin-d.slideMargin))/d.item)},calWidth:function(e){var i=(!0===e?g.find(".lslide"):u).length;if(!1===d.autoWidth)h=i*(C+d.slideMargin);else for(var t=h=0;t<i;t++)h+=parseInt(u.eq(t).width())+d.slideMargin;return h}};return(t={doCss:function(){return!(!d.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],i=document.documentElement,t=0;t<e.length;t++)if(e[t]in i.style)return!0}())},keyPress:function(){d.keyPress&&w(document).on("keyup.lightslider",function(e){w(":focus").is("input, textarea")||(e.preventDefault?e.preventDefault():e.returnValue=!1,37===e.keyCode?c.goToPrevSlide():39===e.keyCode&&c.goToNextSlide())})},controls:function(){d.controls&&(c.after('<div class="lSAction"><a class="lSPrev">'+d.prevHtml+'</a><a class="lSNext">'+d.nextHtml+"</a></div>"),d.autoWidth?x.calWidth(!1)<f&&g.find(".lSAction").hide():s<=d.item&&g.find(".lSAction").hide(),g.find(".lSAction a").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,"lSPrev"===w(this).attr("class")?c.goToPrevSlide():c.goToNextSlide(),!1}))},initialStyle:function(){var r=this;"fade"===d.mode&&(d.autoWidth=!1,d.slideEndAnimation=!1),d.auto&&(d.slideEndAnimation=!1),d.autoWidth&&(d.slideMove=1,d.item=1),d.loop&&(d.slideMove=1,d.freeMove=!1),d.onBeforeStart.call(this,c),x.chbreakpoint(),c.addClass("lightSlider").wrap('<div class="lSSlideOuter '+d.addClass+'"><div class="lSSlideWrapper"></div></div>'),g=c.parent(".lSSlideWrapper"),!0===d.rtl&&g.parent().addClass("lSrtl"),d.vertical?(g.parent().addClass("vertical"),f=d.verticalHeight,g.css("height",f+"px")):f=c.outerWidth(),u.addClass("lslide"),!0===d.loop&&"slide"===d.mode&&(x.calSW(),x.clone=function(){if(x.calWidth(!0)>f){for(var e=0,i=0,t=0;t<u.length&&(i++,!((e+=parseInt(c.find(".lslide").eq(t).width())+d.slideMargin)>=f+d.slideMargin));t++);var n=!0===d.autoWidth?i:d.item;if(n<c.find(".clone.left").length)for(var l=0;l<c.find(".clone.left").length-n;l++)u.eq(l).remove();if(n<c.find(".clone.right").length)for(var a=u.length-1;a>u.length-1-c.find(".clone.right").length;a--)v--,u.eq(a).remove();for(var o=c.find(".clone.right").length;o<n;o++)c.find(".lslide").eq(o).clone().removeClass("lslide").addClass("clone right").appendTo(c),v++;for(var s=c.find(".lslide").length-c.find(".clone.left").length;s>c.find(".lslide").length-n;s--)c.find(".lslide").eq(s-1).clone().removeClass("lslide").addClass("clone left").prependTo(c);u=c.children()}else u.hasClass("clone")&&(c.find(".clone").remove(),r.move(c,0))},x.clone()),x.sSW=function(){s=u.length,!0===d.rtl&&!1===d.vertical&&(m="margin-left"),!1===d.autoWidth&&u.css(p,C+"px"),u.css(m,d.slideMargin+"px"),h=x.calWidth(!1),c.css(p,h+"px"),!0===d.loop&&"slide"===d.mode&&!1===i&&(v=c.find(".clone.left").length)},x.calL=function(){u=c.children(),s=u.length},this.doCss()&&g.addClass("usingCss"),x.calL(),"slide"===d.mode?(x.calSW(),x.sSW(),!0===d.loop&&(S=r.slideValue(),this.move(c,S)),!1===d.vertical&&this.setHeight(c,!1)):(this.setHeight(c,!0),c.addClass("lSFade"),this.doCss()||(u.fadeOut(0),u.eq(v).fadeIn(0))),(!0===d.loop&&"slide"===d.mode?u.eq(v):u.first()).addClass("active")},pager:function(){var e,r=this;x.createPager=function(){M=(f-(d.thumbItem*d.thumbMargin-d.thumbMargin))/d.thumbItem;for(var e=g.find(".lslide"),i=g.find(".lslide").length,t=0,n="",l=0,t=0;t<i;t++){"slide"===d.mode&&(d.autoWidth?l+=(parseInt(e.eq(t).width())+d.slideMargin)*d.slideMove:l=t*(C+d.slideMargin)*d.slideMove);var a=e.eq(t*d.slideMove).attr("data-thumb");if(n+=!0===d.gallery?'<li style="width:100%;'+p+":"+M+"px;"+m+":"+d.thumbMargin+'px"><a href="#"><img src="'+a+'" /></a></li>':'<li><a href="#">'+(t+1)+"</a></li>","slide"===d.mode&&l>=h-f-d.slideMargin){t+=1;a=2;d.autoWidth&&(n+='<li><a href="#">'+(t+1)+"</a></li>",a=1),t<a?(n=null,g.parent().addClass("noPager")):g.parent().removeClass("noPager");break}}var o=g.parent();o.find(".lSPager").html(n),!0===d.gallery&&(!0===d.vertical&&o.find(".lSPager").css("width",d.vThumbWidth+"px"),b=t*(d.thumbMargin+M)+.5,o.find(".lSPager").css({property:b+"px","transition-duration":d.speed+"ms"}),!0===d.vertical&&g.parent().css("padding-right",d.vThumbWidth+d.galleryMargin+"px"),o.find(".lSPager").css(p,b+"px"));var s=o.find(".lSPager").find("li");s.first().addClass("active"),s.on("click",function(){return!0===d.loop&&"slide"===d.mode?v+=s.index(this)-o.find(".lSPager").find("li.active").index():v=s.index(this),c.mode(!1),!0===d.gallery&&r.slideThumb(),!1})},d.pager&&(e="lSpg",d.gallery&&(e="lSGallery"),g.after('<ul class="lSPager '+e+'"></ul>'),e=d.vertical?"margin-left":"margin-top",g.parent().find(".lSPager").css(e,d.galleryMargin+"px"),x.createPager()),setTimeout(function(){x.init()},0)},setHeight:function(n,l){function e(){var e=a.outerHeight(),i=0,t=e;l&&(e=0,i=100*t/f),n.css({height:e+"px","padding-bottom":i+"%"})}var a=null,i=this,a=(d.loop?n.children(".lslide "):n.children()).first();e(),a.find("img").length?a.find("img")[0].complete?(e(),r||i.auto()):a.find("img").on("load",function(){setTimeout(function(){e(),r||i.auto()},100)}):r||i.auto()},active:function(e,i){this.doCss()&&"fade"===d.mode&&g.addClass("on");var t,n,l=0;v*d.slideMove<s?(e.removeClass("active"),this.doCss()||"fade"!==d.mode||!1!==i||e.fadeOut(d.speed),l=!0===i?v:v*d.slideMove,!0===i&&(n=(t=e.length)-1,t<=l+1&&(l=n)),!0===d.loop&&"slide"===d.mode&&(l=!0===i?v-c.find(".clone.left").length:v*d.slideMove,!0===i&&(n=(t=e.length)-1,l+1===t?l=n:t<l+1&&(l=0))),this.doCss()||"fade"!==d.mode||!1!==i||e.eq(l).fadeIn(d.speed),e.eq(l).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==d.mode||!1!==i||(e.fadeOut(d.speed),e.eq(l).fadeIn(d.speed)))},move:function(e,i){!0===d.rtl&&(i=-i),this.doCss()?e.css(!0===d.vertical?{transform:"translate3d(0px, "+-i+"px, 0px)","-webkit-transform":"translate3d(0px, "+-i+"px, 0px)"}:{transform:"translate3d("+-i+"px, 0px, 0px)","-webkit-transform":"translate3d("+-i+"px, 0px, 0px)"}):!0===d.vertical?e.css("position","relative").animate({top:-i+"px"},d.speed,d.easing):e.css("position","relative").animate({left:-i+"px"},d.speed,d.easing);i=g.parent().find(".lSPager").find("li");this.active(i,!0)},fade:function(){this.active(u,!1);var e=g.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;x.calSlide=function(){f<h&&(S=e.slideValue(),e.active(u,!1),S>h-f-d.slideMargin?S=h-f-d.slideMargin:S<0&&(S=0),e.move(c,S),!0===d.loop&&"slide"===d.mode&&(v>=s-c.find(".clone.left").length/d.slideMove&&e.resetSlide(c.find(".clone.left").length),0===v&&e.resetSlide(g.find(".lslide").length)))},x.calSlide()},resetSlide:function(e){var i=this;g.find(".lSAction a").addClass("disabled"),setTimeout(function(){v=e,g.css("transition-duration","0ms"),S=i.slideValue(),i.active(u,!1),t.move(c,S),setTimeout(function(){g.css("transition-duration",d.speed+"ms"),g.find(".lSAction a").removeClass("disabled")},50)},d.speed+100)},slideValue:function(){var e=0;if(!1===d.autoWidth)e=v*(C+d.slideMargin)*d.slideMove;else for(var e=0,i=0;i<v;i++)e+=parseInt(u.eq(i).width())+d.slideMargin;return e},slideThumb:function(){var e;switch(d.currentPagerPosition){case"left":e=0;break;case"middle":e=f/2-M/2;break;case"right":e=f-M}var i=v-c.find(".clone.left").length,t=g.parent().find(".lSPager");"slide"===d.mode&&!0===d.loop&&(i>=t.children().length?i=0:i<0&&(i=t.children().length));i=i*(M+d.thumbMargin)-e;b<i+f&&(i=b-f-d.thumbMargin),this.move(t,i=i<0?0:i)},auto:function(){d.auto&&(clearInterval(r),r=setInterval(function(){c.goToNextSlide()},d.pause))},pauseOnHover:function(){var e=this;d.auto&&d.pauseOnHover&&(g.on("mouseenter",function(){w(this).addClass("ls-hover"),c.pause(),d.auto=!0}),g.on("mouseleave",function(){w(this).removeClass("ls-hover"),g.find(".lightSlider").hasClass("lsGrabbing")||e.auto()}))},touchMove:function(e,i){g.css("transition-duration","0ms"),"slide"===d.mode&&((e=S-(e-i))>=h-f-d.slideMargin?e=!1===d.freeMove?h-f-d.slideMargin:(i=h-f-d.slideMargin)+(e-i)/5:e<0&&(!1===d.freeMove?e=0:e/=5),this.move(c,e))},touchEnd:function(e){var l,i,t;g.css("transition-duration",d.speed+"ms"),"slide"===d.mode?(i=!(l=!1),(S-=e)>h-f-d.slideMargin?(S=h-f-d.slideMargin,!1===d.autoWidth&&(l=!0)):S<0&&(S=0),t=function(e){var i=0;if(l||e&&(i=1),d.autoWidth)for(var t=0,n=0;n<u.length&&(t+=parseInt(u.eq(n).width())+d.slideMargin,v=n+i,!(S<=t));n++);else{e=S/((C+d.slideMargin)*d.slideMove);v=parseInt(e)+i,S>=h-f-d.slideMargin&&e%1!=0&&v++}},e>=d.swipeThreshold?(t(!1),i=!1):e<=-d.swipeThreshold&&(t(!0),i=!1),c.mode(i),this.slideThumb()):e>=d.swipeThreshold?c.goToPrevSlide():e<=-d.swipeThreshold&&c.goToNextSlide()},enableDrag:function(){var i,t,n,l=this;T||(t=i=0,n=!1,g.find(".lightSlider").addClass("lsGrab"),g.on("mousedown",function(e){return!(h<f&&0!==h)&&void("lSPrev"!==w(e.target).attr("class")&&"lSNext"!==w(e.target).attr("class")&&(i=!0===d.vertical?e.pageY:e.pageX,n=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,g.scrollLeft+=1,--g.scrollLeft,g.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(r)))}),w(window).on("mousemove",function(e){n&&(t=!0===d.vertical?e.pageY:e.pageX,l.touchMove(t,i))}),w(window).on("mouseup",function(e){n&&(g.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),e=(t=!(n=!1)===d.vertical?e.pageY:e.pageX)-i,Math.abs(e)>=d.swipeThreshold&&w(window).on("click.ls",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),w(window).off("click.ls")}),l.touchEnd(e))}))},enableTouch:function(){var n,l,a=this;T&&(n={},l={},g.on("touchstart",function(e){l=e.originalEvent.targetTouches[0],n.pageX=e.originalEvent.targetTouches[0].pageX,n.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(r)}),g.on("touchmove",function(e){if(h<f&&0!==h)return!1;var i=e.originalEvent;l=i.targetTouches[0];var t=Math.abs(l.pageX-n.pageX),i=Math.abs(l.pageY-n.pageY);!0===d.vertical?(t<3*i&&e.preventDefault(),a.touchMove(l.pageY,n.pageY)):(i<3*t&&e.preventDefault(),a.touchMove(l.pageX,n.pageX))}),g.on("touchend",function(){return!(h<f&&0!==h)&&(e=!0===d.vertical?l.pageY-n.pageY:l.pageX-n.pageX,void a.touchEnd(e));var e}))},build:function(){var e=this;e.initialStyle(),this.doCss()&&(!0===d.enableTouch&&e.enableTouch(),!0===d.enableDrag&&e.enableDrag()),w(window).on("focus",function(){e.auto()}),w(window).on("blur",function(){clearInterval(r)}),e.pager(),e.pauseOnHover(),e.controls(),e.keyPress()}}).build(),x.init=function(){x.chbreakpoint(),!0===d.vertical?(f=1<d.item?d.verticalHeight:u.outerHeight(),g.css("height",f+"px")):f=g.outerWidth(),!0===d.loop&&"slide"===d.mode&&x.clone(),x.calL(),"slide"===d.mode&&c.removeClass("lSSlide"),"slide"===d.mode&&(x.calSW(),x.sSW()),setTimeout(function(){"slide"===d.mode&&c.addClass("lSSlide")},1e3),d.pager&&x.createPager(),!0===d.adaptiveHeight&&!1===d.vertical&&c.css("height",u.eq(v).outerHeight(!0)),!1===d.adaptiveHeight&&("slide"===d.mode?!1===d.vertical?t.setHeight(c,!1):t.auto():t.setHeight(c,!0)),!0===d.gallery&&t.slideThumb(),"slide"===d.mode&&t.slide(),!1===d.autoWidth?u.length<=d.item?g.find(".lSAction").hide():g.find(".lSAction").show():x.calWidth(!1)<f&&0!==h?g.find(".lSAction").hide():g.find(".lSAction").show()},c.goToPrevSlide=function(){0<v?(d.onBeforePrevSlide.call(this,c,v),v--,c.mode(!1),!0===d.gallery&&t.slideThumb()):!0===d.loop?(d.onBeforePrevSlide.call(this,c,v),"fade"===d.mode&&(v=parseInt((s-1)/d.slideMove)),c.mode(!1),!0===d.gallery&&t.slideThumb()):!0===d.slideEndAnimation&&(c.addClass("leftEnd"),setTimeout(function(){c.removeClass("leftEnd")},400))},c.goToNextSlide=function(){var e=!0;"slide"===d.mode&&(e=t.slideValue()<h-f-d.slideMargin),v*d.slideMove<s-d.slideMove&&e?(d.onBeforeNextSlide.call(this,c,v),v++,c.mode(!1),!0===d.gallery&&t.slideThumb()):!0===d.loop?(d.onBeforeNextSlide.call(this,c,v),v=0,c.mode(!1),!0===d.gallery&&t.slideThumb()):!0===d.slideEndAnimation&&(c.addClass("rightEnd"),setTimeout(function(){c.removeClass("rightEnd")},400))},c.mode=function(e){!0===d.adaptiveHeight&&!1===d.vertical&&c.css("height",u.eq(v).outerHeight(!0)),!1===i&&("slide"===d.mode?t.doCss()&&(c.addClass("lSSlide"),""!==d.speed&&g.css("transition-duration",d.speed+"ms"),""!==d.cssEasing&&g.css("transition-timing-function",d.cssEasing)):t.doCss()&&(""!==d.speed&&c.css("transition-duration",d.speed+"ms"),""!==d.cssEasing&&c.css("transition-timing-function",d.cssEasing))),e||d.onBeforeSlide.call(this,c,v),"slide"===d.mode?t.slide():t.fade(),g.hasClass("ls-hover")||t.auto(),setTimeout(function(){e||d.onAfterSlide.call(this,c,v)},d.speed),i=!0},c.play=function(){c.goToNextSlide(),d.auto=!0,t.auto()},c.pause=function(){d.auto=!1,clearInterval(r)},c.refresh=function(){x.init()},c.getCurrentSlideCount=function(){var e,i,t=v;return d.loop&&(e=g.find(".lslide").length,i=c.find(".clone.left").length,t=v<=i-1?e+(v-i):e+i<=v?v-e-i:v-i),t+1},c.getTotalSlideCount=function(){return g.find(".lslide").length},c.goToSlide=function(e){v=d.loop?e+c.find(".clone.left").length-1:e,c.mode(!1),!0===d.gallery&&t.slideThumb()},c.destroy=function(){c.lightSlider&&(c.goToPrevSlide=function(){},c.goToNextSlide=function(){},c.mode=function(){},c.play=function(){},c.pause=function(){},c.refresh=function(){},c.getCurrentSlideCount=function(){},c.getTotalSlideCount=function(){},c.goToSlide=function(){},c.lightSlider=null,x={init:function(){}},c.parent().parent().find(".lSAction, .lSPager").remove(),c.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),c.children().removeAttr("style"),u.removeClass("lslide active"),c.find(".clone").remove(),r=u=null,i=!1,v=0)},setTimeout(function(){d.onSliderLoad.call(this,c)},10),w(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,x.init()},200)}),this}}(jQuery);